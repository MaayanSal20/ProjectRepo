-- MySQL dump 10.13  Distrib 8.0.44, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: schema_for_project
-- ------------------------------------------------------
-- Server version	8.0.40

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `payments`
--

DROP TABLE IF EXISTS `payments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `payments` (
  `paymentId` int NOT NULL AUTO_INCREMENT,
  `resId` int NOT NULL,
  `confCode` int NOT NULL,
  `amount` decimal(10,2) NOT NULL,
  `discount` decimal(10,2) NOT NULL DEFAULT '0.00',
  `finalAmount` decimal(10,2) NOT NULL,
  `status` varchar(20) NOT NULL DEFAULT 'OPEN',
  `createdAt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `paidAt` datetime DEFAULT NULL,
  `billNotifiedAt` datetime DEFAULT NULL,
  PRIMARY KEY (`paymentId`),
  UNIQUE KEY `uq_pay_res` (`resId`),
  KEY `idx_pay_conf` (`confCode`),
  KEY `idx_pay_status` (`status`),
  KEY `idx_bill_notified` (`billNotifiedAt`),
  CONSTRAINT `fk_pay_res` FOREIGN KEY (`resId`) REFERENCES `reservation` (`ResId`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `payments`
--

LOCK TABLES `payments` WRITE;
/*!40000 ALTER TABLE `payments` DISABLE KEYS */;
INSERT INTO `payments` VALUES (1,1,600002,225.65,0.00,225.65,'PAID','2025-11-23 13:38:00','2025-11-23 13:50:00','2025-11-23 13:10:00'),(2,2,600003,141.58,14.16,127.42,'PAID','2025-11-25 13:55:00','2025-11-25 14:07:00','2025-11-25 13:35:00'),(3,4,600005,451.73,45.17,406.56,'PAID','2025-12-09 14:08:00','2025-12-09 14:13:00','2025-12-09 14:26:00'),(4,5,600006,123.05,12.30,110.75,'PAID','2025-12-09 18:45:00','2025-12-09 18:55:00','2025-12-09 18:59:00'),(5,8,600009,314.15,0.00,314.15,'PAID','2025-12-13 18:29:00','2025-12-13 18:32:00','2025-12-13 18:59:00'),(6,9,600010,104.99,10.50,94.49,'PAID','2025-12-13 22:10:00','2025-12-13 22:24:00','2025-12-13 22:27:00'),(7,12,600013,70.24,7.02,63.22,'PAID','2025-12-18 12:24:00','2025-12-18 12:39:00','2025-12-18 11:56:00'),(8,14,600015,150.13,15.01,135.12,'PAID','2025-12-23 22:10:00','2025-12-23 22:19:00','2025-12-23 22:04:00'),(9,17,600018,111.78,11.18,100.60,'PAID','2025-12-27 22:49:00','2025-12-27 22:49:00','2025-12-27 22:27:00'),(10,19,600020,444.02,44.40,399.62,'PAID','2026-01-03 13:02:00','2026-01-03 13:04:00','2026-01-03 13:08:00'),(11,20,600021,257.49,25.75,231.74,'PAID','2026-01-03 14:01:00','2026-01-03 14:13:00','2026-01-03 14:31:00'),(12,22,600023,114.66,0.00,114.66,'PAID','2026-01-04 14:12:00','2026-01-04 14:27:00','2026-01-04 14:10:00'),(13,3,600004,187.50,0.00,187.50,'PAID','2025-11-30 15:12:00','2025-11-30 15:19:00','2025-11-30 14:57:00'),(14,7,600008,612.50,61.25,551.25,'PAID','2025-12-12 21:55:00','2025-12-12 22:02:00','2025-12-12 21:40:00'),(15,10,600011,425.00,42.50,382.50,'PAID','2025-12-17 15:04:00','2025-12-17 15:11:00','2025-12-17 14:49:00'),(16,11,600012,437.50,43.75,393.75,'PAID','2025-12-17 17:02:00','2025-12-17 17:09:00','2025-12-17 16:47:00'),(17,13,600014,237.50,23.75,213.75,'PAID','2025-12-18 18:22:00','2025-12-18 18:29:00','2025-12-18 18:07:00'),(18,16,600017,350.00,0.00,350.00,'PAID','2025-12-25 17:58:00','2025-12-25 18:05:00','2025-12-25 17:43:00'),(19,25,600026,387.50,38.75,348.75,'PAID','2026-01-11 21:55:00','2026-01-11 22:02:00','2026-01-11 21:40:00');
/*!40000 ALTER TABLE `payments` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2026-01-18  2:35:05
